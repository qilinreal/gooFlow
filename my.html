<!DOCTYPE html>
<html>
<head>
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8"/>

    <link rel="stylesheet" type="text/css" href="css/default.css">

    <script src="js/jquery-latest.js"></script>
    <script type="text/javascript" src="js/GooFunc.js"></script>

    <link rel="stylesheet" type="text/css" href="css/my.css">

    <script type="text/javascript" src="js/my.js"></script>
    <script type="text/javascript" src="js/flow.js"></script>
    <title>流程图DEMO</title>
</head>
<body>
<div id="demo">
</div>

<script type="text/javascript">
    var property = {
        width: 1366,
        height: 768,
        toolBtns: ["start", "end", "task", "join", "fork"],
        haveHead: true,
        headBtns: ["save"],//如果haveHead=true，则定义HEAD区的按钮
        haveTool: true,
        haveGroup: false,
        useOperStack: true
    };
    var remark = {
        cursor: "选择指针",
        direct: "转换连线",
        start: "开始结点",
        end: "结束结点",
        task: "任务结点",
        fork: "分支结点",
        join: "联合结点"
    };
    var instance;
    var jsondata = undefined;
    $(document).ready(function () {
        instance = $.createGooFlow($("#demo"), property);
        instance.setNodeRemarks(remark);
        instance.onItemDel = function (id, type) {
            return confirm("确定要删除该单元吗?");
        };
        instance.onBtnSaveClick = function () {
            alert('God bless.');
        };
        jsondata = {
            title: "流程设计",
            nodes: {
                node_1: {name: "node_1", left: 67, top: 69, type: "start", width: 24, height: 24},
                node_2: {name: "node_2", left: 219, top: 71, type: "task", width: 86, height: 24},
                node_5: {name: "node_5", left: 380, top: 71, type: "fork", width: 86, height: 24}
            },
            lines: {
                line_3: {type: "tb", M: "69", from: "node_1", to: "node_2", name: "", marked: false},
                line_6: {type: "sl", from: "node_2", to: "node_5", name: "", marked: false}
            }
//            ,
//            areas: {
//                area_8: {name: "area_8", left: 35, top: 39, color: "red", width: 472, height: 114}
//            }
        };
        instance.onItemResize = function () {
            return false;
        };
        instance.$max = 9;
        instance.loadData(jsondata);
    });
</script>

</body>
</html>
